
@{
    ViewBag.Title = Resources.WeeklySummary;
    Layout = "~/Views/ActivityDatas/_ActivityDataLayout.cshtml";
}

<h2>@(Resources.WeeklySummary)</h2>

<h3>@(Resources.WeeklySummaryTitle_TotalSteps)</h3>
<div class="chart">
    <div class="ajax-loading"><img src="~/Images/ajax-loader.gif" /></div>
    <div id="steps-chart"></div>
</div>


<h3>@(Resources.WeeklySummaryTitle_TotalBeats)</h3>
<div class="chart">
    <div class="ajax-loading"><img src="~/Images/ajax-loader.gif" /></div>
    <div id="beats-chart"></div>
</div>


@Scripts.Render("~/Scripts/Charts.js")
<script type="text/javascript">
    $(function () {
        initiliseAjax();
        requestData("@(Url.Action("WeeklySummary", "API"))", { "unit": "Steps"}, function (data) {
            createBarChart(data, "#steps-chart");
        });

        requestData("@(Url.Action("WeeklySummary", "API"))", { "unit": "Beats"}, function (data) {
            createBarChart(data, "#beats-chart");
        });
    });
</script>