@model GoAber.Models.ViewModels.ViewUserSummary
@{
    ViewBag.Title = "View User";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Model.User.Nickname</h2>

@Scripts.Render("~/Scripts/moment.min.js")
@Scripts.Render("~/Scripts/Charts.js")


@foreach (var category in Model.CategoryViews)
{
    <h3>@(category.name) Summary</h3>

    <div class="well data-summary">
        @foreach (var unit in category.units)
        {
            <h4>@(unit) Summary</h4>
                <ul>
                    <li>Total number of @(unit): <span class="statistic" id="@(unit)-total"></span></li>
                    <li>Their best day was <span class="statistic" id="@(unit)-max-date"></span> with <span class="statistic" id="@(unit)-max-value"></span> @(unit).</li>
                    <li>Their worst day was <span class="statistic" id="@(unit)-min-date"></span> with <span class="statistic" id="@(unit)-min-value"></span> @(unit).</li>
                </ul>
                <script type="text/javascript">
                $(function () {
                    initiliseAjax();
                    requestData("@(Url.Action("AllTimeStatistics", "ActivityDatasAPI"))", { "unit": "@(unit)" }, function (data) {
                        setSummaryValues(data, "@(unit)", "MMMM Do YYYY");
                    });
                });
                </script>

        }
    </div>
}
